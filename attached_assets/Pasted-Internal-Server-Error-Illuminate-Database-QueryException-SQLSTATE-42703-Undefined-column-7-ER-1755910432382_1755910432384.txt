Internal Server Error

Illuminate\Database\QueryException
SQLSTATE[42703]: Undefined column: 7 ERROR: column finance_general_ledger.account_code does not exist LINE 1: ...ledger" inner join "finance_chart_of_accounts" on "finance_g... ^ HINT: Perhaps you meant to reference the column "finance_general_ledger.account_id". (Connection: pgsql, SQL: select SUM(finance_general_ledger.debit_amount - finance_general_ledger.credit_amount) as balance from "finance_general_ledger" inner join "finance_chart_of_accounts" on "finance_general_ledger"."account_code" = "finance_chart_of_accounts"."account_code" where "finance_chart_of_accounts"."account_code" = 3100 and "finance_general_ledger"."transaction_date" < 2025-01-01 and "finance_general_ledger"."status" = posted limit 1)
GET b37b2e2b-dc68-4a05-a4bf-a177f0adf93c-00-3ojsxvorydoml.worf.replit.dev
PHP 8.2.23 â€” Laravel 11.45.1

Expand
vendor frames
11 vendor frames collapsed

App\Http\Controllers\Finance\IpsasReportController
:226
getAccountBalance

App\Http\Controllers\Finance\IpsasReportController
:85
statementChangesNetAssets
6 vendor frames collapsed

App\Http\Middleware\AdminMiddleware
:29
handle
1 vendor frame collapsed

App\Http\Middleware\EnsureInstalled
:23
handle
42 vendor frames collapsed

public/index.php
:51
require_once
1 vendor frame collapsed
app/Http/Controllers/Finance/IpsasReportController.php :226
                return $query->value('total_amount') ?? 0;
            }
        }
 
        return $query->selectRaw('SUM(finance_general_ledger.debit_amount - finance_general_ledger.credit_amount) as balance')
                    ->value('balance') ?? 0;
    }
 
    private function getCashBalance($date, $currency, $isOpening = false)
    {
        $cashAccounts = ['1111', '1112', '1113']; // Cash accounts
        $totalBalance = 0;
 
        foreach ($cashAccounts as $accountCode) {
            $totalBalance += $this->getAccountBalance($accountCode, $date, $currency, $isOpening);
        }
 